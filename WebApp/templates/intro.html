

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legal Defence Portal</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/main_style.css') }}">
</head>
<body>
    <div class="layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h2>Sections</h2>
            <ul>
                {% for item in components %}
                    <li>
                        <a href="#{{ item.id }}" id="link-{{ item.id }}">{{ item.label }}</a>
                        {% if item.subsections %}
                            <ul class="subsection-list">
                                {% for sub in item.subsections %}
                                    <li><a href="#{{ sub.id }}" id="link-{{ sub.id }}">{{ sub.label }}</a></li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        </aside>

        <!-- Main content -->
        <main class="main-content">
            <div class="container">
                <h1 id="intro">Legal Defence Portal</h1>
                <p class="subtitle">Formal Statement</p>

                 {% for item in components %}
                    <section id="{{ item.id }}" class="defence-section">
                        <h2>{{ item.label }}</h2>
                        <p>Content for {{ item.label }} goes here.</p>

                        {% if item.dynamic %}
                            {% include item.dynamic %}
                        {% endif %}

                        {% if item.subsections %}
                            {% for sub in item.subsections %}
                                <section id="{{ sub.id }}" class="defence-section">
                                    <h3>{{ sub.label }}</h3>
                                    {% if sub.dynamic %}
                                        {% include sub.dynamic %}
                                    {% endif %}
                                </section>
                            {% endfor %}
                        {% endif %}
                    </section>
                {% endfor %}

                <footer>
                    <p>&copy; {{ 2025 }} Legal Defence Team â€“ England & Wales</p>
                </footer>
            </div>
        </main>
    </div>

    <script>
        // Scroll highlight for main sections and subsections
        const sections = document.querySelectorAll('.defence-section');
        const navLinks = document.querySelectorAll('.sidebar a');

        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                const id = entry.target.getAttribute('id');
                const link = document.getElementById(`link-${id}`);
                if (entry.isIntersecting) {
                    navLinks.forEach(l => l.classList.remo
